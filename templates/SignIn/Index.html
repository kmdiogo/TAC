{% extends 'Base.html' %}
{% load static %}

{% block title %}TAC &middot; Sign-In{% endblock %}

{% block styles %}
    <style>
    .wrapper{
        transition: opacity 1s ease-in-out;
    }
    .wrapper.hidden{
        opacity: 0;
    }
    .student-or-employee{
        width: 100%;
        height: 200%;
    }
    .student-or-employee:hover{
        animation: jump 1s infinite ease-in-out;
        /*background-color: grey !important;*/
    }

    #content{
        transition: all 2s ease-in-out;
        /*animation: slide-down 1s;*/
    }
    #content.start-up{
        transform: translateY(-5%);
    }
    .wrapper{
        display: flex;
        align-items: stretch;
        width: 100%;

    }
    #sidebar{
        padding: 10px;
        transition: all 0.5s ease-in-out;
        min-width: 250px;
        max-width: 250px;
        min-height: 100vh;
    }
    #sidebar.active{
        margin-left: -250px;
    }
    @media (max-width: 768px) {
        /*#sidebar {
            margin-left: -250px;
        }
        #sidebar.active {
            margin-left: 0;
        }*/
        #col-button-employee, #col-button-student {
            margin-top: 5px;
            margin-bottom: 5px;
        }
        .student-or-employee {
            width: 100%;
            height: 100%;
        }
    }
    #sidebar-links > li > button{
        width: 100%;
        margin-top: 5px;
        margin-bottom: 5px;
    }
    .section {
        display: none;
    }
    .section.active {
        display: block;
    }
    .section-button {
        transition: background-color 0.2s linear;
    }
</style>
{% endblock %}


{% block content %}
<div class="wrapper hidden">
    <nav id="sidebar" class="active">
        <div class="sidebar-header row">
            <img class="d-flex w-50 h-50 ml-3" src="{% static 'images/SignIn/TAC_Logo_Text.png' %}" />
        </div>
        <hr>
        <ul class="list-unstyled components" id="sidebar-links">
            <li class="active">
                <button class="btn btn-outline-info section-button active" data-section="#home-section">Home</button>
            </li>
            <li>
                <button class="btn btn-outline-info section-button" data-section="#student-section">Student Sign-In</button>
            </li>
            <li>
                <button class="btn btn-outline-info section-button" data-section="#employee-section">Employee Clock-In</button>
            </li>
            <li>
                <button class="btn btn-outline-info section-button" >Employee Tools</button>
            </li>
        </ul>

    </nav>

    <button type="button" id="button-sidebar" class="btn btn-info"><span>III</span></button>
    <div class="justify-content-center align-items-center d-flex start-up" id="content" style="min-height: 100vh;width: 100%;">
        <div id="sections">
            <div class="section active" id="home-section">
                {% include 'SignIn/_HomeSection.html' %}
            </div>
            <div class="section" id="student-section">
                {% include 'SignIn/_StudentSection.html' %}
            </div>
            <div class="section" id="employee-section">
                {% include 'SignIn/_EmployeeSection.html' %}
            </div>
        </div>

    </div>
</div>
{% endblock %}



{% block scripts %}
<script>
    $(document).ready(function(){
        $('.wrapper').removeClass('hidden');
        $('#content').removeClass('start-up');
        BindIndexEvents();
    });

    function BindIndexEvents(){
        $('#button-sidebar').click(function(){
            $('#sidebar').toggleClass('active');
        });

        $('.section-button').click(function(){
            let targetSection = $(this).data('section');
            if ($(this).hasClass('active'))
                return;
            $('.section-button').removeClass('active');
            $(this).addClass('active');
            $('.section').fadeOut('fast').promise().done(function(){
                $(targetSection).fadeIn('fast');
            });
        });

        $('#button-student-submit').click(function(){
            $.ajax({
                type: 'post',
                url: "{% url 'create_student' %}",
                data: $('#form-student').serialize(),
                success: function(data){
                    console.log(data);
                }
            });
        });
    }
</script>
{% endblock %}
